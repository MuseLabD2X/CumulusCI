name: Scheduled Chores 🗓️🔧

on:
    workflow_dispatch:
    schedule:
        - cron: "0 0 * * 0" # At 00:00 on Sunday

jobs:
    update_api_versions:
        name: 🔄 Update API Versions
        runs-on: ${{ github.repository_owner == 'SFDO-Tooling' && 'SFDO-Tooling-Ubuntu' || 'ubuntu-latest' }}
        steps:
            - name: 📦 Checkout Code
              uses: actions/checkout@v3
              with:
                  ref: main
            - name: 🐍 Set up Python
              uses: actions/setup-python@v4
              with:
                  python-version: 3.8
            - name: 🔄 Run Update API Versions Action
              uses: ./.github/actions/update-api-versions
              env:
                  SFDO_HUB_URL: ${{ secrets.SFDO_HUB_URL }}
